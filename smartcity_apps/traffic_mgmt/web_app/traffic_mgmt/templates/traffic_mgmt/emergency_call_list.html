{% extends 'base.html' %}
{% load static %}
{% block content %}


<div class="pagetitle">
  <h1>Emergency Calls & Response Status</h1>
</div><!-- End Page Title -->

<section class="section dashboard">
  <div class="row mt-3">
    <div class="col-md-8 offset-md-2">
      {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{message}}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}

    </div>
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">#ID</th>
                <th scope="col">Time</th>
                <th scope="col">Status</th>
                <th scope="col">Location</th>
                <th scope="col">Caller Name</th>
                <th scope="col">Caller Contact</th>
                <th scope="col">Service Type</th>
                <th scope="col">Vehicle Assigned</th>
              </tr>
            </thead>
            <tbody>
              {% for emergency_call in emergency_calls %}
              <tr>
                <th scope="row">{{ emergency_call.id }}</th>
                <td>{{ emergency_call.timestamp }}</td>
                <td>{{ emergency_call.status }}</td>
                <td>{{ emergency_call.location }}, {{ emergency_call.city }}</td>
                <td>{{ emergency_call.caller_name }}</td>
                <td>{{ emergency_call.caller_contact }}</td>
                <td>{{ emergency_call.emergency_service }}</td>
                <td>{{ emergency_call.assigned_vehicle }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
</section>


{% endblock%}